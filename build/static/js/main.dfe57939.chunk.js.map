{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/phoneNumbers.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","display","onChange","handler","PersonForm","onSubmit","addNumber","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","onClick","deleteHandler","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","console","log","Persons","personsToShow","map","person","callback","updateState","window","confirm","phoneServices","wasDeleted","Notification","message","color","textColor","undefined","notificationStyle","fontSize","background","style","App","useState","persons","setPersons","setNewName","setNewNumber","newSearch","setNewSearch","notificationMsg","setNotificationMsg","notificationMsgColor","setNotificationMsgColor","optionalData","updateNotification","useEffect","length","msg","setTimeout","filter","toLowerCase","startsWith","event","searchQuery","target","preventDefault","numberObj","personObj","indexOf","returnedNote","x","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dfe57939.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => (\r\n    <div>\r\n        filter shown with\r\n        <input\r\n            value={props.display}\r\n            onChange={props.handler} />\r\n    </div>\r\n)\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => (\r\n    <form onSubmit={props.addNumber}>\r\n        <div>\r\n            name:\r\n            <input\r\n                value={props.newName}\r\n                onChange={props.handleNameChange} />\r\n        </div>\r\n        <div>number:\r\n            <input\r\n                value={props.newNumber}\r\n                onChange={props.handleNumberChange}\r\n            />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = (props) => (\r\n    <>\r\n        <p>{props.name} {props.number} <button onClick={props.deleteHandler}>Delete</button></p>\r\n    </>\r\n)\r\n\r\nexport default Person","import axios from 'axios'\r\n\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => {\r\n        console.log('deleted: ', response)\r\n    })\r\n}\r\n\r\nexport default { getAll, create, update, deleteEntry }","import React from 'react'\r\nimport Person from './Person'\r\nimport phoneServices from '../services/phoneNumbers'\r\n\r\nconst deleteHandler = (id, name, callback) => {\r\n    if (window.confirm(`Do you really want to remove item with id = ${id}?`)) {\r\n        phoneServices\r\n            .deleteEntry(id)\r\n            .then(response => {\r\n                console.log(callback)\r\n                callback({ wasDeleted: true, name: name })\r\n            })\r\n\r\n    }\r\n}\r\n\r\nconst Persons = (props) => (\r\n    <>\r\n        {\r\n            console.log('props: ', props)\r\n        }\r\n        {\r\n            props.personsToShow.map(person =>\r\n                <Person\r\n                    key={person.name}\r\n                    name={person.name}\r\n                    number={person.number}\r\n                    deleteHandler={() => deleteHandler(person.id, person.name, props.updateState)}\r\n                />\r\n            )\r\n        }\r\n    </>\r\n)\r\n\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, color }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    console.log('color: ', color)\r\n    let textColor = 'green'\r\n\r\n    if (color !== null && color !== undefined) {\r\n        textColor = color\r\n    }\r\n\r\n    const notificationStyle = {\r\n        color: textColor,\r\n        fontSize: 16,\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport phoneServices from './services/phoneNumbers'\nimport Notification from './components/Notification'\n\n// next: 2.12* Data for countries\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [notificationMsg, setNotificationMsg] = useState(null)\n  const [notificationMsgColor, setNotificationMsgColor] = useState(null)\n\n  const updateState = (optionalData) => {\n    console.log('updating state?')\n    phoneServices\n      .getAll()\n      .then(data => {\n        console.log('promise fulfiled')\n        setPersons(data)\n\n        if (optionalData && optionalData.wasDeleted) {\n          updateNotification(`${optionalData.name} was removed from the server`, 'red')\n        }\n\n      })\n  }\n\n  useEffect(() => {\n    console.log('effect')\n    updateState()\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const numberObj = {\n      name: newName,\n      number: newNumber\n    }\n    const id = persons\n      .map(personObj => personObj.name)\n      .indexOf(newName)\n\n    if (id === -1) {\n      phoneServices\n        .create(numberObj)\n        .then(returnedNote => {\n          updateState()\n          setNewName('')\n          setNewNumber('')\n        })\n        .then(x => {\n          updateNotification(`Added ${newName}`)\n        })\n        .catch(error => {\n          // this is the way to access the error message\n          console.log(error.response.data.error)\n          updateNotification(error.response.data.error, 'red')\n        })\n    }\n    else {\n      // alert(`${newName} is already added to phonebook`)\n      if (window.confirm(`Do you really want to change the number for ${newName}?`)) {\n        phoneServices\n          .update(persons[id].id, numberObj)\n          .then(response => {\n            updateState()\n          })\n          .then(x => {\n            updateNotification(`Updated number for ${newName}`)\n          })\n          .catch(error => {\n            updateNotification(`${newName} was removed from the server`, 'red')\n          })\n\n      }\n    }\n\n\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleNewSearch = (event) => {\n    const searchQuery = event.target.value\n    setNewSearch(searchQuery)\n  }\n\n  const updateNotification = (msg, color) => {\n    setNotificationMsg(msg)\n    setNotificationMsgColor(color)\n    setTimeout(() => {\n      setNotificationMsg(null)\n      setNotificationMsgColor(null)\n    }, 5000)\n  }\n\n  const personsToShow = newSearch === ''\n    ? persons\n    : persons.filter(\n      person => {\n        console.log(person.name.toLowerCase(), newSearch.toLowerCase())\n        return person.name.toLowerCase().startsWith(newSearch.toLowerCase())\n      }\n    )\n\n  return (\n    <div>\n      <Notification message={notificationMsg} color={notificationMsgColor} />\n      <h2>Phonebook</h2>\n      <Filter\n        display={newSearch}\n        handler={handleNewSearch}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        addNumber={addNumber}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        personsToShow={personsToShow}\n        updateState={updateState}\n      />\n    </div >\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}